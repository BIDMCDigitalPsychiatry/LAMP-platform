"use strict";(self.webpackChunklamp_platform=self.webpackChunklamp_platform||[]).push([[4060],{20835:(e,o,n)=>{n.r(o),n.d(o,{assets:()=>l,contentTitle:()=>a,default:()=>p,frontMatter:()=>r,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"deploy/troubleshooting","title":"Troubleshooting Deployment","description":"This page contains fixes for potential issues you may encounter when using LAMP. However, it is not comprehensive. If you encounter an issue you are unable to resolve with the help of this page, please help us improve by posting your issue at community.lamp.digital","source":"@site/docs/07-deploy/09-troubleshooting.md","sourceDirName":"07-deploy","slug":"/deploy/troubleshooting","permalink":"/docs/deploy/troubleshooting","draft":false,"unlisted":false,"editUrl":"https://github.com/BIDMCDigitalPsychiatry/LAMP-platform/edit/master/docs/07-deploy/09-troubleshooting.md","tags":[],"version":"current","lastUpdatedBy":"sarithapillai8","lastUpdatedAt":1730901660000,"sidebarPosition":9,"frontMatter":{},"sidebar":"defaultSidebar","previous":{"title":"Testing the LAMP Platform","permalink":"/docs/deploy/testing"},"next":{"title":"Complex Password Requirements","permalink":"/docs/deploy/passwords"}}');var t=n(74848),i=n(28453);const r={},a="Troubleshooting Deployment",l={},c=[{value:"Large Logs",id:"large-logs",level:2}];function d(e){const o={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o.header,{children:(0,t.jsx)(o.h1,{id:"troubleshooting-deployment",children:"Troubleshooting Deployment"})}),"\n",(0,t.jsxs)(o.p,{children:["This page contains fixes for potential issues you may encounter when using LAMP. However, it is not comprehensive. If you encounter an issue you are unable to resolve with the help of this page, please help us improve by posting your issue at ",(0,t.jsx)(o.a,{href:"https://community.lamp.digital",children:"community.lamp.digital"})]}),"\n",(0,t.jsx)(o.h2,{id:"large-logs",children:"Large Logs"}),"\n",(0,t.jsx)(o.p,{children:"LAMP-server is designed for long uptimes and detailed logging. An unfortunate side-effect of this is that, especially over a long period of time, logging files can grow large and affect available disk space, negatively impacting docker performance."}),"\n",(0,t.jsxs)(o.p,{children:["Check your disk space usage in the terminal of your ",(0,t.jsx)(o.code,{children:"lamp-server"})," node with:"]}),"\n",(0,t.jsx)(o.pre,{children:(0,t.jsx)(o.code,{className:"language-bash",children:"df\n"})}),"\n",(0,t.jsxs)(o.p,{children:["If it is 100%, navigate to your docker directory (try ",(0,t.jsx)(o.code,{children:"cd /var/lib/docker"}),") and run"]}),"\n",(0,t.jsx)(o.pre,{children:(0,t.jsx)(o.code,{className:"language-bash",children:"   du -h --max-depth=1 containers/\n"})}),"\n",(0,t.jsx)(o.p,{children:"This command will list your containers space usage. If LAMP-server is very large (in excess of 10gb), you can attempt to clean the logs by running"}),"\n",(0,t.jsx)(o.pre,{children:(0,t.jsx)(o.code,{className:"language-bash",children:"    docker stop YOUR_SERVER_ONTAINER_ID_HERE && docker rm YOUR_CONTAINER_ID_HERE\n    \n"})}),"\n",(0,t.jsx)(o.p,{children:"This will stop and remove your container, at which point docker swarm should spin up a new one."}),"\n",(0,t.jsx)(o.p,{children:"To prevent this issue from happening in the future, add the following to your docker compose file. The docs YAML file has this added as of September 2nd, so this bug should not occur if you began using LAMP after this date."}),"\n",(0,t.jsx)(o.pre,{children:(0,t.jsx)(o.code,{className:"language-yaml",children:'    logging:\n      options:\n        max-size: "10m"\n        max-file: "3"\n'})})]})}function p(e={}){const{wrapper:o}={...(0,i.R)(),...e.components};return o?(0,t.jsx)(o,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},28453:(e,o,n)=>{n.d(o,{R:()=>r,x:()=>a});var s=n(96540);const t={},i=s.createContext(t);function r(e){const o=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(o):{...o,...e}}),[o,e])}function a(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),s.createElement(i.Provider,{value:o},e.children)}}}]);