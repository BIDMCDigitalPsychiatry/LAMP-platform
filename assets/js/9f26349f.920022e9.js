(self.webpackChunkLAMP_documentation=self.webpackChunkLAMP_documentation||[]).push([[8499],{603905:function(e,t,n){"use strict";n.d(t,{Zo:function(){return c},kt:function(){return d}});var r=n(667294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=r.createContext({}),p=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},c=function(e){var t=p(e.components);return r.createElement(l.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,a=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),m=p(n),d=o,h=m["".concat(l,".").concat(d)]||m[d]||u[d]||a;return n?r.createElement(h,i(i({ref:t},c),{},{components:n})):r.createElement(h,i({ref:t},c))}));function d(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=n.length,i=new Array(a);i[0]=m;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:o,i[1]=s;for(var p=2;p<a;p++)i[p]=n[p];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},133301:function(e,t,n){"use strict";n.r(t),n.d(t,{frontMatter:function(){return i},metadata:function(){return s},toc:function(){return l},default:function(){return c}});var r=n(722122),o=n(419756),a=(n(667294),n(603905)),i={},s={unversionedId:"develop/components_of_lamp",id:"develop/components_of_lamp",isDocsHomePage:!1,title:"Components of the LAMP Platform",description:"The LAMP Platform API Server manages all internal components and inter-component message-passing. Its components are embedded within Docker containers and use Docker Swarm for orchestration. Docker Compose and Kubernetes may also be used to deploy the components. Please see Deployment Recommendations if you do not plan on using Docker.",source:"@site/docs/07-develop/01-components_of_lamp.md",sourceDirName:"07-develop",slug:"/develop/components_of_lamp",permalink:"/develop/components_of_lamp",editUrl:"https://github.com/BIDMCDigitalPsychiatry/LAMP-platform/edit/master/docs/07-develop/01-components_of_lamp.md",version:"current",lastUpdatedBy:"Aditya Vaidyam",lastUpdatedAt:1621950400,formattedLastUpdatedAt:"5/25/2021",sidebarPosition:1,frontMatter:{},sidebar:"defaultSidebar",previous:{title:"Testing the LAMP Platform",permalink:"/deploy/testing_lamp"},next:{title:"How the Platform Works",permalink:"/develop/how_works"}},l=[{value:"<strong>API Server</strong>",id:"api-server",children:[]},{value:"<strong>Database</strong>",id:"database",children:[]},{value:"<strong>Message Queue</strong>",id:"message-queue",children:[]},{value:"<strong>Automations Worker</strong>",id:"automations-worker",children:[]}],p={toc:l};function c(e){var t=e.components,i=(0,o.Z)(e,["components"]);return(0,a.kt)("wrapper",(0,r.Z)({},p,i,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"The LAMP Platform API Server manages all internal components and inter-component message-passing. Its components are embedded within Docker containers and use Docker Swarm for orchestration. Docker Compose and Kubernetes may also be used to deploy the components. Please see ",(0,a.kt)("strong",{parentName:"p"},"Deployment Recommendations")," if you do not plan on using Docker."),(0,a.kt)("p",null,(0,a.kt)("img",{src:n(706944).Z})),(0,a.kt)("h3",{id:"api-server"},(0,a.kt)("strong",{parentName:"h3"},"API Server")),(0,a.kt)("p",null,"The gatekeeper between the internal and external domains."),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"This component is implemented in ",(0,a.kt)("strong",{parentName:"li"},"Node.js"),"."),(0,a.kt)("li",{parentName:"ul"},"****All API requests are stateless (i.e. there is no session management) and map to a single response."),(0,a.kt)("li",{parentName:"ul"},"All requests irrespective of authentication requirement must be accompanied by a client API key. This pre-registered API key is recorded in the audit log with each request and serves as origination reference for resources and events."),(0,a.kt)("li",{parentName:"ul"},"Using the Credential API, requests that require authentication and authorization are validated."),(0,a.kt)("li",{parentName:"ul"},"Data transport must be encrypted and decrypted as per security & privacy policy.")),(0,a.kt)("h3",{id:"database"},(0,a.kt)("strong",{parentName:"h3"},"Database")),(0,a.kt)("p",null,"The persistent data storage device supporting transient caching and complex querying."),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"This component is implemented by ",(0,a.kt)("strong",{parentName:"li"},"CouchDB"),", with an alternate implementation for low-power usage in ",(0,a.kt)("strong",{parentName:"li"},"Node.js")," using the ",(0,a.kt)("strong",{parentName:"li"},"PouchDB")," framework.",(0,a.kt)("ol",{parentName:"li"},(0,a.kt)("li",{parentName:"ol"},"This component can instead by substituted using custom adapter code by ",(0,a.kt)("strong",{parentName:"li"},"Redis"),", ",(0,a.kt)("strong",{parentName:"li"},"Amazon S3"),", or for low-power usage, a na\xefve ",(0,a.kt)("strong",{parentName:"li"},"Dictionary/Map")," object in ",(0,a.kt)("strong",{parentName:"li"},"js"),"."))),(0,a.kt)("li",{parentName:"ul"},"A key-value or document database (noSQL) is most ideal for storage needs of the ",(0,a.kt)("strong",{parentName:"li"},"LAMP Protocol"),", due to its hierarchical object data and high throughput access and low latency manipulation requirements."),(0,a.kt)("li",{parentName:"ul"},"To support real-time intervention deployment and management, an intermediate in-memory cache is used to ease the load on main long-term storage databases.")),(0,a.kt)("h3",{id:"message-queue"},(0,a.kt)("strong",{parentName:"h3"},"Message Queue")),(0,a.kt)("p",null,"Handles the synchronization of communication between all the above actors in the server layer."),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"This component is implemented by the ",(0,a.kt)("strong",{parentName:"li"},"Redis")," high performance key-value store, with an alternate implementation for low-power usage in ",(0,a.kt)("strong",{parentName:"li"},"Node.js"),"."),(0,a.kt)("li",{parentName:"ul"},"Each component upon startup must register itself with the message queue for service discovery."),(0,a.kt)("li",{parentName:"ul"},"Any component may create any number of topics for which other components may publish messages to or subscribe to."),(0,a.kt)("li",{parentName:"ul"},"Implementation of database manipulation operations, automation events, and the audit log relies solely on subscription to the global topic; the API Server publishes requests here with a unique identifier awaiting response.")),(0,a.kt)("h3",{id:"automations-worker"},(0,a.kt)("strong",{parentName:"h3"},"Automations Worker")),(0,a.kt)("p",null,"This component handles scheduled push notification delivery as well as execution of triggered scripts to deliver interventions to patients."),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"A compute platform such as a Docker-enabled system or AWS Lambda is used to handle actual execution of code once bundled."),(0,a.kt)("li",{parentName:"ul"},"A dependency bundler such as Webpack, PIP, or Packrat is used to bundle each automation\u2019s code to avoid dependency versioning conflicts that could crash or halt execution."),(0,a.kt)("li",{parentName:"ul"},"This component encompasses: ",(0,a.kt)("strong",{parentName:"li"},"Docker Environment, Attachment Container, Automation Scripts, Scheduler"),".")))}c.isMDXComponent=!0},706944:function(e,t,n){"use strict";t.Z=n.p+"assets/images/Platform_Overview-0c296dc1945d269d56d5b323bb31c142.png"}}]);