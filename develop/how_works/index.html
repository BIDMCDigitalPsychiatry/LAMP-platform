<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-develop/how_works" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">How the Platform Works | LAMP Platform</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://docs.lamp.digital/logo.png"><meta data-rh="true" name="twitter:image" content="https://docs.lamp.digital/logo.png"><meta data-rh="true" property="og:url" content="https://docs.lamp.digital/develop/how_works"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="How the Platform Works | LAMP Platform"><meta data-rh="true" name="description" content="The LAMP Platform always collects data in a secure way before automatically processing and harmonizing it for you. Researchers/clinicians, and patients/participants can view their data in the frontend user interface. Patients will always retain ownership when contributing their data to your study or clinic and may always download and view their own data. Cognitive tests and survey instruments collect high quality metadata that can measure attention, focus, memory performance, and more."><meta data-rh="true" property="og:description" content="The LAMP Platform always collects data in a secure way before automatically processing and harmonizing it for you. Researchers/clinicians, and patients/participants can view their data in the frontend user interface. Patients will always retain ownership when contributing their data to your study or clinic and may always download and view their own data. Cognitive tests and survey instruments collect high quality metadata that can measure attention, focus, memory performance, and more."><link data-rh="true" rel="icon" href="/logo.png"><link data-rh="true" rel="canonical" href="https://docs.lamp.digital/develop/how_works"><link data-rh="true" rel="alternate" href="https://docs.lamp.digital/develop/how_works" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.lamp.digital/develop/how_works" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="LAMP Platform RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="LAMP Platform Atom Feed">
<link rel="alternate" type="application/json" href="/blog/feed.json" title="LAMP Platform JSON Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-192736629-1","auto"),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script><link rel="stylesheet" href="/assets/css/styles.d5e6add4.css">
<script src="/assets/js/runtime~main.04ca5af0.js" defer="defer"></script>
<script src="/assets/js/main.f52f8522.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/logo.png" alt="LAMP Platform" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/logo.png" alt="LAMP Platform" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">LAMP Platform</b></a><div class="navbar__item dropdown dropdown--hoverable"><a aria-current="page" class="navbar__link active" aria-haspopup="true" aria-expanded="false" role="button" href="/">User Guide</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/app">Download App</a></li><li><a class="dropdown__link" href="/bug">Report Bug</a></li><li><a class="dropdown__link" href="/faq">FAQ</a></li></ul></div><a class="navbar__item navbar__link" href="/api">API</a><a class="navbar__item navbar__link" href="/blog">What&#x27;s New</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Community</a><ul class="dropdown__menu"><li><a href="https://github.com/BIDMCDigitalPsychiatry/LAMP-platform/" target="_blank" rel="noopener noreferrer" class="dropdown__link">GitHub<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="mailto:team@digitalpsych.org" target="_blank" rel="noopener noreferrer" class="dropdown__link">Contact<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z" dir="ltr"><input placeholder="Search" aria-label="Search" class="navbar__search-input" value=""><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/">LAMP Platform</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/app">Quick Links</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/about/intro">Users and Publications</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/using/learn">How to use mindLAMP</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/start_here/overview">Setting up mindLAMP</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/develop/intro">Developing LAMP</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/develop/intro">Components of the LAMP Platform</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/develop/how_works">How the Platform Works</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/develop/low_power">Low Power &amp; Connectivity Support</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/develop/intervention_delivery">Continuous Monitoring &amp; Intervention Delivery</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/develop/build_new_activities">Building New Activities</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/develop/adaptive_interventions">Just-In-Time Adaptive Interventions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/develop/app_gateway">App Gateway</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/develop/cron_jobs">Scheduling Tasks with Cron Jobs in LAMP</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/develop/Repositories/creating-github-release">Repositories</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/develop/oauth_oidc">OAuth2/OIDC Support</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/develop/couchdb-migration">Migrating from CouchDB to MongoDB</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/develop/Training Modules/training-modules">Training Modules</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/data_science/intro">Cortex &amp; API</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/consortium/admin/checklist">Consortium</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/troubleshooting">Troubleshooting</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Developing LAMP</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">How the Platform Works</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>How the Platform Works</h1></header>
<p>The LAMP Platform always collects data in a secure way before automatically processing and harmonizing it for you. Researchers/clinicians, and patients/participants can view their data in the frontend user interface. Patients will always retain ownership when contributing their data to your study or clinic and may always download and view their own data. Cognitive tests and survey instruments collect high quality metadata that can measure attention, focus, memory performance, and more.</p>
<p>The LAMP Protocol, upon which the LAMP Platform is built, may also be integrated into other systems as it is intuitive, simple, and has security and privacy built-in. It models active and passive data together as evolving streams of events, and data becomes reactive and clinically actionable through user-defined applets across R, Python, and JS. Credential management is built into the object hierarchy, which uses OpenAPI and JSONSchema to mark up extensible interfaces. The industry encryption standards AES-256 and TLSv1.3 facilitate secure storage and transmission of data in a HIPAA, COPPA, and GDPR-compliant manner.</p>
<p>The <strong>LAMP Platform</strong> consists of two broad domains: <strong>(1) local</strong>: the components that users will see and interact with through smartphone or wearable devices, and <strong>(2) remote</strong>: the components located off-device that process data, coordinate applets, and handle synchronization. The app serves to both capture diverse streams of sensor and activity measurements ranging from heart rate to mood and to prompt suggested user interactions. It informs the <strong>LAMP Platform</strong> with a micro-temporal slice of the user’s physical and mental health. The server components supporting the <strong>LAMP Platform</strong> play an equally important role in securely encrypting and processing the data, establishing the user’s “digital fingerprint” and predicting changes that could potentially result in relapse. app-based interventions can be deployed to improve the user’s health and relevant health data can automatically be shared with authorized care team members.</p>
<p>The figures below detail one operation typically performed by the <strong>LAMP Platform</strong>. Shown on the left-hand side is the app, and on the right-hand side is the server. Note that both pieces consist of numerous components that work together as a modular distributed system to transfer and process data in a clinically relevant context. A full specification of all components and their interactivity is documented in later sections. Please note that an important distinction in naming is made between the <strong>local</strong> and <strong>remote</strong> domains: the components of the former are prefixed with “<strong>mindLAMP</strong>” where the components of the latter are prefixed only with “<strong>LAMP</strong>” as this distinction clarifies the scope and requirements of the components themselves.</p>
<p><img decoding="async" loading="lazy" src="/assets/images/Platform_Overview-0c296dc1945d269d56d5b323bb31c142.png" width="5804" height="3820" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" src="/assets/images/Untitled_70-de49155d4339fac5a2e52be850b61c8b.png" width="301" height="195" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-1-sensor-events-are-recorded-in-real-time">Step 1: Sensor events are recorded in real-time.<a href="#step-1-sensor-events-are-recorded-in-real-time" class="hash-link" aria-label="Direct link to Step 1: Sensor events are recorded in real-time." title="Direct link to Step 1: Sensor events are recorded in real-time.">​</a></h2>
<p>High-frequency sensors on the mobile or wearable device record measurements based on the user’s current configuration settings defined by an administrator. This data is stored in a buffer on the device&#x27;s hardware managed by the operating system (either iOS or Android) and provided to the app periodically while it is in the background.</p>
<p><img decoding="async" loading="lazy" src="/assets/images/Untitled_71-e11357790059c520d3b7626087a41e8c.png" width="301" height="195" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-2-collected-events-are-cached-awaiting-server-reachability">Step 2: Collected events are cached, awaiting server reachability.<a href="#step-2-collected-events-are-cached-awaiting-server-reachability" class="hash-link" aria-label="Direct link to Step 2: Collected events are cached, awaiting server reachability." title="Direct link to Step 2: Collected events are cached, awaiting server reachability.">​</a></h2>
<p>The device’s buffer and operating system make no guarantees to save data from the current moment for the next time the app is run in the background. Because of this and the likelihood that the remote server may not be reachable due to poor signal, the measurements are immediately cached by the app whenever it is notified in the background. When battery levels are sufficient, and network connectivity to the remote server available, and enough data is cached, the app begins synchronization.</p>
<p><img decoding="async" loading="lazy" src="/assets/images/Untitled_72-74800a942c1b724d35cdf6e933490cd9.png" width="301" height="195" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-3-server-receives-and-processes-requests-from-the-app">Step 3: Server receives and processes requests from the app.<a href="#step-3-server-receives-and-processes-requests-from-the-app" class="hash-link" aria-label="Direct link to Step 3: Server receives and processes requests from the app." title="Direct link to Step 3: Server receives and processes requests from the app.">​</a></h2>
<p>The app submits a request to the server for synchronizing and uploading its cached data. Once uploaded successfully, it is unpacked and examined by the server for further automated processing.</p>
<p><img decoding="async" loading="lazy" src="/assets/images/Untitled_73-acca8b13717d72fa1dd27e164759b6a2.png" width="301" height="195" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-4-server-coordinates-internal-components-for-processing">Step 4: Server coordinates internal components for processing.<a href="#step-4-server-coordinates-internal-components-for-processing" class="hash-link" aria-label="Direct link to Step 4: Server coordinates internal components for processing." title="Direct link to Step 4: Server coordinates internal components for processing.">​</a></h2>
<p>The server prepares instructions for internal components based on the data uploaded by the app. These instructions are pushed through the internal data bus (a message queue) that connects all internal controllers in the platform. The extensibility of the internal components and the data bus interconnecting them means components can be swapped out or replaced depending on context. In deployments or regions where some features should be disabled, their relevant components are &quot;unplugged&quot; from this data bus.</p>
<p><img decoding="async" loading="lazy" src="/assets/images/Untitled_74-391533020cae0f7b1f3f65b7bb202037.png" width="301" height="195" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-5-database-records-the-incoming-data">Step 5: Database records the incoming data.<a href="#step-5-database-records-the-incoming-data" class="hash-link" aria-label="Direct link to Step 5: Database records the incoming data." title="Direct link to Step 5: Database records the incoming data.">​</a></h2>
<p>Depending on the server’s system configuration and the content of the data uploaded, the database then records all event data and schedules an automated backup. The database considers the origin of the events as it saves them, harmonizing data from various sensors through a unified schema.</p>
<p>![](assets/Untitled 75.png)</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-6-the-scheduler-coordinates-and-runs-automations">Step 6: The scheduler coordinates and runs automations.<a href="#step-6-the-scheduler-coordinates-and-runs-automations" class="hash-link" aria-label="Direct link to Step 6: The scheduler coordinates and runs automations." title="Direct link to Step 6: The scheduler coordinates and runs automations.">​</a></h2>
<p>Once the database completes saving data and any backup processes, the scheduler component is engaged to determine if any data processing “applets” or other internal maintenance tasks need to run. After assessing cost and priority, the scheduler creates an execution plan consisting of the above and notifies these components. The scheduler relies on heuristics gathered from audit logs to determine the plan.</p>
<p><img decoding="async" loading="lazy" src="/assets/images/Untitled_76-2e669d298769343215ef01b6815be70f.png" width="301" height="195" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-7-applets-are-launched-into-a-safe-environment-and-run">Step 7: Applets are launched into a safe environment and run.<a href="#step-7-applets-are-launched-into-a-safe-environment-and-run" class="hash-link" aria-label="Direct link to Step 7: Applets are launched into a safe environment and run." title="Direct link to Step 7: Applets are launched into a safe environment and run.">​</a></h2>
<p>Assuming no internal maintenance tasks need to run, the scheduler may create an execution plan with only a single applet. Once started, a new virtual environment is prepared and securely isolated from other data. For example, an R environment would analyze the script to run and install the correct versions of all required packages, replicating the environment used by the applet&#x27;s author.</p>
<p><a href="mailto:team@digitalpsych.org" target="_blank" rel="noopener noreferrer">Please contact us directly for guidance on delivery of just-in-time interventions.</a></p>
<p><img decoding="async" loading="lazy" src="/assets/images/Untitled_77-444461fc01fe965dcc0ce9aa07e03591.png" width="301" height="195" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-8-applet-results-are-saved-after-being-run">Step 8: Applet results are saved after being run.<a href="#step-8-applet-results-are-saved-after-being-run" class="hash-link" aria-label="Direct link to Step 8: Applet results are saved after being run." title="Direct link to Step 8: Applet results are saved after being run.">​</a></h2>
<p>As the applet executes, its input and output are spliced from the automation controller and saved as tags. For example, an applet called &quot;com.test.some_script&quot; may create a new tag “com.test.some_script” attached to some resource in the database, or append to an existing tag with the same name. Any runtime logs are extracted separately from this result.</p>
<p><img decoding="async" loading="lazy" src="/assets/images/Untitled_78-5cb596a24573770380780cb83af464d2.png" width="301" height="195" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-9-applet-results-are-persisted-for-later-access">Step 9: Applet results are persisted for later access.<a href="#step-9-applet-results-are-persisted-for-later-access" class="hash-link" aria-label="Direct link to Step 9: Applet results are persisted for later access." title="Direct link to Step 9: Applet results are persisted for later access.">​</a></h2>
<p>If an applet is configured to persist its output, the data are persisted to the database as a tag and may be accessed by a client app directly at a later time. For example, an applet may compute a dynamic visualization to be cached, or it could lookup login credentials from a predefined tag to access and convert data from a third-party system such as Fitbit into native resource objects which are then persisted by the database.</p>
<p><img decoding="async" loading="lazy" src="/assets/images/Untitled_79-0d9c0b9f73c1ca024767bf404fc06c56.png" width="301" height="195" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-10-scheduler-updates-invocation-and-audit-log">Step 10: Scheduler updates invocation and audit log.<a href="#step-10-scheduler-updates-invocation-and-audit-log" class="hash-link" aria-label="Direct link to Step 10: Scheduler updates invocation and audit log." title="Direct link to Step 10: Scheduler updates invocation and audit log.">​</a></h2>
<p>Once an execution plan completes, the scheduler records statistics about it for its next engagement.</p>
<p><img decoding="async" loading="lazy" src="/assets/images/Untitled_80-0ec80c39dd7d2229f16bb15bdedb4e93.png" width="301" height="195" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-11-request-completes-with-any-response-data">Step 11: Request completes with any response data.<a href="#step-11-request-completes-with-any-response-data" class="hash-link" aria-label="Direct link to Step 11: Request completes with any response data." title="Direct link to Step 11: Request completes with any response data.">​</a></h2>
<p>If any controller responds to their currently executing instruction with a response payload (such as the execution output of an applet), it is bundled and returned to the API client synchronously. If a controller needs more time to process an instruction, it can return a pointer to an operation resource that can be used in a later asynchronous request to the server to locate the response once completed. If a controller chooses to respond to an instruction but is unable to complete it, the response returns immediately to the client app as an error.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="tags--automations">Tags &amp; Automations<a href="#tags--automations" class="hash-link" aria-label="Direct link to Tags &amp; Automations" title="Direct link to Tags &amp; Automations">​</a></h2>
<p>Automations are a flexible framework for the LAMP platform that allow you to run complex analytics and decision support tools either in reaction to new events in an event stream, or on a periodic schedule. Without having to configure a processing pipeline for system requirements such as CPU, I/O, or RAM, automations abstract the functional logic from data resources and system requirements. Automations support simple, flexible, and portable code that can run on low-power devices such as smartwatches or older smartphones all the way up to large servers and computing clusters in the cloud.</p>
<p><img decoding="async" loading="lazy" src="/assets/images/Analysis_Methods-c26de5faf7a71752969b3fd08a08b878.png" width="4358" height="2704" class="img_ev3q"></p>
<p>These &quot;applets,&quot; called Automations, can be written in typical data science programming languages such as JavaScript, Python, and R, with any packages or dependencies automatically bundled within. When installed onto a Resource (that is, a Researcher, Study, Participant, or even an Activity), it is capable of listening to events generated by that Resource. For example, if installed for Participants, one such applet could listen to any SensorEvents or ActivityEvents, or when installed for Activities, it could listen only to anonymized ActivityEvents generated by any Participant. When the Cloud server receives new events, it prepares all Automations that fit the specified event mask and allows them to execute with preallocated hardware limits.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="tags-as-arbitrary-data-on-resources">Tags as Arbitrary Data on Resources<a href="#tags-as-arbitrary-data-on-resources" class="hash-link" aria-label="Direct link to Tags as Arbitrary Data on Resources" title="Direct link to Tags as Arbitrary Data on Resources">​</a></h3>
<p>Tags are an arbitrary unit of extensibility available to all Resource sub-types. Through string-indexed/keyed subscripting, out-of-line data may be attached to objects in the LAMP Platform as an ad-hoc micro-database. For a flow chart on the usage of Tags, see the figure below. Tags are a powerful tool that may be leveraged by clients of the LAMP Platform to build applets for the Platform as well as smaller apps within such client apps themselves.</p>
<p><img decoding="async" loading="lazy" src="/assets/images/Tags_Example-5b87923d7a9d39e168ae0a63e14ed025.png" width="6433" height="2704" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="data-uri-strings-in-tags">Data-URI strings in Tags<a href="#data-uri-strings-in-tags" class="hash-link" aria-label="Direct link to Data-URI strings in Tags" title="Direct link to Data-URI strings in Tags">​</a></h3>
<p>Tags may consist of JSON object, array, or primitive types, as well as encoded <code>data-uri</code> strings (to represent binary data like PDFs or MP3s). <code>data-uri</code> strings are normal string primitives but prefixed with <code>data:&lt;mime_type&gt;[;base64],</code> where <code>&lt;mime_type&gt;</code> refers to the binary application file type of the data that follows, such as <code>application/json</code>, <code>text/plain; charset=utf8</code>, or <code>image/svg+xml</code>. If the <code>base64</code> optional parameter is provided, the contents of the string following the comma are to be base64-decoded when interpreted by the LAMP Platform or clients of the LAMP Protocol. Specifying an optional <code>Accept</code> header type may optionally allow the LAMP server component or other LAMP Protocol vendors to automatically convert such <code>data-uri</code> strings into a binary type.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="atomic-indexed-access-and-modification">Atomic Indexed Access and Modification<a href="#atomic-indexed-access-and-modification" class="hash-link" aria-label="Direct link to Atomic Indexed Access and Modification" title="Direct link to Atomic Indexed Access and Modification">​</a></h3>
<p>Furthermore, to support atomic operations on Tags, an indexed modifier version of get &amp; set methods shall exist such that for a Tag whose content is an object, the method <code>GET | POST /type/&lt;id&gt;/my.tag.name.here[/someKeyedIndex]</code> shall return or replace only the sub-content of the object but not the whole object represented by the Tag. For JSON arrays, keyed indices shall take the form of continuous numbered indices found in the array itself, including the special index <code>length</code> which shall only return but not replace the length of the underlying array. Through these rudimentary atomic mutation facilities, vendors and clients of the LAMP Protocol may perform basic synchronization without poll-waiting or SSE (Server Sent Events) reconciliation.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="automations-as-multidimensional-planes-of-data-within-tags">Automations as Multidimensional Planes of Data within Tags<a href="#automations-as-multidimensional-planes-of-data-within-tags" class="hash-link" aria-label="Direct link to Automations as Multidimensional Planes of Data within Tags" title="Direct link to Automations as Multidimensional Planes of Data within Tags">​</a></h3>
<p>Automations shall be represented by their specific LAMP Protocol object schema, but encoded as a plaintext JSON data-uri string with the mime type <code>application/vnd+lamp.automation</code>. When registering or unregistering an Automation’s availability with a LAMP server or other component, the component itself shall maintain a running record of compute images, trigger-points, and code for each Automation. When the Tag containing the Automation data is removed, the Automation itself shall be unregistered and made no longer functional in that instance of the LAMP Platform. The figure below describes the relationship between the static data plan (Tags) and the dynamic data plane (Automations) which leverage the functionality described in prior chapters to perform Just-In-Time intervention, prediction, analysis, visualization, or some other set of relevant functions. <strong>This functionality has also been superceded by the TagSpec API.</strong></p>
<p><img decoding="async" loading="lazy" src="/assets/images/Dynamic_Attachments-7d81352def9ccf4a7e1154fc551452d9.png" width="4633" height="3387" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="federated-systems-using-the-automation-framework">Federated Systems Using the Automation Framework<a href="#federated-systems-using-the-automation-framework" class="hash-link" aria-label="Direct link to Federated Systems Using the Automation Framework" title="Direct link to Federated Systems Using the Automation Framework">​</a></h2>
<p>Supposing multiple existing systems provided clinically useful sources of data, such as longitudinal imaging repositories or existing Fitbit devices synchronized to the cloud. While data retrieval and ad-hoc storage of “out-of-line” (that is, unrecognized by the Platform, but retaining meaning to its owner) data from within the Platform is simple using the API, it would be simply infeasible to manually verify modified data against multiple specific conditions and run several scripts in the Researcher’s local computer before sending out notifications or awaiting further processing from elsewhere. Instead, the Platform supports, through the Automations framework, a method of dynamically running such scripts as “applets” atop extremely powerful unconstrained hardware not managed by the Researcher or their IT department.</p>
<p><img decoding="async" loading="lazy" src="/assets/images/Action_Chart-2d9395017b1f9a82874edf0127e9ddad.png" width="8879" height="2754" class="img_ev3q"></p>
<p>In the example above, a combination of two applets and an external Amazon S3 database (unknown to the LAMP Platform) provide the equivalent three step upload-process-analyze functionality of apps such as AWARE, Fitbit, Beiwe, Google Fit, and more. The <code>lamp.anomaly_detection</code> applet is not considered a part of this group as it was written to use only the standard API provided by the LAMP Platform; it contains no knowledge of the other two applets and the external database. The <code>org.aware.upload</code> applet requests preallocation of storage, perhaps on the order of ~5GB, but entirely variable depending on the Participant’s device or historical data uploads. It then returns a response immediately to the requesting smartphone device or internet service with a URL to which it can upload the data. The second applet, <code>org.aware.processing</code> is instead run by the Cloud server every 5 minutes to check if any processing needs to be done in the database, and if so, executes the processing, but otherwise does nothing. This applet converts the uploaded data to LAMP Resources (ActivityEvents or SensorEvents, specifically) and submits them to the Cloud server in bulk. Just as with any other events received by the Cloud server, it will then execute a set of Automation applets — in this case, <code>lamp.anomaly_detection</code>. In summary, with this multi-applet workflow, data is automatically uploaded and stored in an external database wholly maintained by a third-party, subsequently converted to actionable reactive LAMP Sensor or ActivityEvents, and finally analyzed through the same methods as all other data.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/BIDMCDigitalPsychiatry/LAMP-platform/edit/master/docs/08-develop/02-how_works.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2025-07-07T19:16:52.000Z" itemprop="dateModified">Jul 7, 2025</time></b> by <b>Eden Rozenblit</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/develop/intro"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Components of the LAMP Platform</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/develop/low_power"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Low Power &amp; Connectivity Support</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#step-1-sensor-events-are-recorded-in-real-time" class="table-of-contents__link toc-highlight">Step 1: Sensor events are recorded in real-time.</a></li><li><a href="#step-2-collected-events-are-cached-awaiting-server-reachability" class="table-of-contents__link toc-highlight">Step 2: Collected events are cached, awaiting server reachability.</a></li><li><a href="#step-3-server-receives-and-processes-requests-from-the-app" class="table-of-contents__link toc-highlight">Step 3: Server receives and processes requests from the app.</a></li><li><a href="#step-4-server-coordinates-internal-components-for-processing" class="table-of-contents__link toc-highlight">Step 4: Server coordinates internal components for processing.</a></li><li><a href="#step-5-database-records-the-incoming-data" class="table-of-contents__link toc-highlight">Step 5: Database records the incoming data.</a></li><li><a href="#step-6-the-scheduler-coordinates-and-runs-automations" class="table-of-contents__link toc-highlight">Step 6: The scheduler coordinates and runs automations.</a></li><li><a href="#step-7-applets-are-launched-into-a-safe-environment-and-run" class="table-of-contents__link toc-highlight">Step 7: Applets are launched into a safe environment and run.</a></li><li><a href="#step-8-applet-results-are-saved-after-being-run" class="table-of-contents__link toc-highlight">Step 8: Applet results are saved after being run.</a></li><li><a href="#step-9-applet-results-are-persisted-for-later-access" class="table-of-contents__link toc-highlight">Step 9: Applet results are persisted for later access.</a></li><li><a href="#step-10-scheduler-updates-invocation-and-audit-log" class="table-of-contents__link toc-highlight">Step 10: Scheduler updates invocation and audit log.</a></li><li><a href="#step-11-request-completes-with-any-response-data" class="table-of-contents__link toc-highlight">Step 11: Request completes with any response data.</a></li><li><a href="#tags--automations" class="table-of-contents__link toc-highlight">Tags &amp; Automations</a><ul><li><a href="#tags-as-arbitrary-data-on-resources" class="table-of-contents__link toc-highlight">Tags as Arbitrary Data on Resources</a></li><li><a href="#data-uri-strings-in-tags" class="table-of-contents__link toc-highlight">Data-URI strings in Tags</a></li><li><a href="#atomic-indexed-access-and-modification" class="table-of-contents__link toc-highlight">Atomic Indexed Access and Modification</a></li><li><a href="#automations-as-multidimensional-planes-of-data-within-tags" class="table-of-contents__link toc-highlight">Automations as Multidimensional Planes of Data within Tags</a></li></ul></li><li><a href="#federated-systems-using-the-automation-framework" class="table-of-contents__link toc-highlight">Federated Systems Using the Automation Framework</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">2025 LAMP Consortium & Division of Digital Psychiatry @ BIDMC</div></div></div></footer></div>
</body>
</html>